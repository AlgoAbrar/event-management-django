{% extends 'base.html' %}
{% block title %}Categories{% endblock %}

{% block content %}
<h1 class="text-3xl font-bold mb-6">Categories</h1>

<a href="{% url 'category-create' %}" class="inline-block mb-4 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">
  Create New Category
</a>

{% if categories %}
  <ul class="divide-y divide-gray-200">
    {% for category in categories %}
      <li class="py-3 flex justify-between items-center">
        <div>
          <h2 class="text-xl font-semibold">{{ category.name }}</h2>
          <p class="text-gray-600">{{ category.description|default:"No description" }}</p>
        </div>
        <div class="space-x-3">
          <a href="{% url 'category-update' category.pk %}" class="text-blue-600 hover:underline">Edit</a>
          <form method="POST" action="{% url 'category-delete' category.pk %}" style="display:inline;">
            {% csrf_token %}
            <button type="submit" onclick="return confirm('Are you sure you want to delete this category?');" class="text-red-600 hover:underline">
              Delete
            </button>
          </form>
        </div>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p>No categories available.</p>
{% endif %}
{% endblock %}
